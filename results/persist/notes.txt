Dict chain
- OOM naive memoize

2:21 no memoize 36s
2:23 no memoize 37s


masked memoize OOM with mask memoized

2:29 masked memoize with mask NOT memoized
   55s
(i think apply was memoized here)

2:36 55s masked memoize with mask NOT memoized, apply memoized
type is slower

2:33 masked memoize, mask not memoized, apply not memoized
54s

2:43 50s mask and small fix for maps with null in codomains
2:48 48s most efficient memoized so far.. mask and small fix for maps with null in codomains, and faster map by replacing null outputs with OK monad so we don't have to access map twice


fixed a bug in L that makes memoizing faster: compute hashcode lazily

whether or not we memoize apply doesn't really make a diff

DICT CHAIN

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_0])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_1])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_2])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_3])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[L0()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[L1()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_0])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_1])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_2])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_3])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[L0()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[L1()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_0],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_1],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_2],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_3],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([L0()],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([L1()],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

TIME: 109380


ANOTHER TEST OF DICTCHAIN:

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_0])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_1])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_2])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[4_3])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[L0()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_2])]->[L36([4_0],[L1()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_0])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_1])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_2])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[4_3])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[L0()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_0],[3_1])]->[3_0]->[3_1]->[L36([3_0],[3_1])])
(7, [L36([4_0],[4_1])]->[L36([4_1],[4_3])]->[L36([4_0],[L1()])])
(4, L36([L0()],[L1()]))
(3, L36([L1()],[L0()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_0],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_1],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_2],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([4_3],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([L0()],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

(0, L0())
(1, L1())
(2, L36([L0()],[L0()]))
(6, [L36([3_1],[3_0])]->[3_0]->[3_1]->[L36([3_1],[3_0])])
(7, [L36([4_0],[4_1])]->[L36([4_2],[4_0])]->[L36([L1()],[4_1])])
(4, L36([L1()],[L0()]))
(3, L36([L0()],[L1()]))
(5, L36([L1()],[L1()]))
---

18 satisfying contexts
TIME: 107183



===========================================================================
================================================================
ID AND INC



==============================================================================
==============================================================================
==============================================================================









EAGER CONTEXTS AND FILTER AFTER:
2327
1534
1627
1823
2053
1608
1698

LAZY CONTEXTS AND FILTER AS PRODUCING
1538
1624
2090
1575
1517
1761

NO MustContainVariables:

{0=L2, Li=L2, LLi=L2, cons=3_0 -> 3_0 -> 3_0, tr=L12, []b=L12}
1 contexts
Passed tests: 0
{0=L2, Li=L2, LLi=L2, cons=3_0 -> 3_0 -> L2, tr=L2, []b=L2}
0 contexts
Passed tests: 0
{0=L11, Li=L11, LLi=L11, cons=L11 -> 3_0 -> L11, tr=L11, []b=L12}
413100 contexts
Passed tests: 0
{0=L12, Li=L12, LLi=L12, cons=L12 -> L12 -> 3_0, tr=L12, []b=L12}
0 contexts
Passed tests: 0
{0=L12, Li=L12, LLi=L12, cons=L12 -> L12 -> L12, tr=L12, []b=L12}
0 contexts
Passed tests: 0
{0=L11, Li=L11, LLi=L11, cons=3_0 -> L11 -> 3_0, tr=L11, []b=L11}
0 contexts
Passed tests: 0
{0=L0, Li=L12, LLi=L12, cons=3_0 -> L12 -> L12, tr=L11, []b=L12}
4190208 contexts
Passed tests: 1
{0=L11, Li=L11, LLi=L11, cons=L11 -> 3_0 -> 3_0, tr=L11, []b=L12}
4131 contexts
Passed tests: 1


WITH MustContainVariables:
{0=L2, Li=L2, LLi=L2, cons=3_0 -> 3_0 -> 3_0, tr=L12, []b=L12}
1 contexts
Passed tests: 0
{0=L2, Li=L2, LLi=L2, cons=3_0 -> 3_0 -> L2, tr=L2, []b=L2}
0 contexts
Passed tests: 0
{0=L11, Li=L11, LLi=L11, cons=L11 -> 3_0 -> L11, tr=L11, []b=L12}
22680 contexts
Passed tests: 0
{0=L12, Li=L12, LLi=L12, cons=L12 -> L12 -> 3_0, tr=L12, []b=L12}
0 contexts
Passed tests: 0
{0=L12, Li=L12, LLi=L12, cons=L12 -> L12 -> L12, tr=L12, []b=L12}
0 contexts
Passed tests: 0
{0=L11, Li=L11, LLi=L11, cons=3_0 -> L11 -> 3_0, tr=L11, []b=L11}
0 contexts
Passed tests: 0
{0=L0, Li=L12, LLi=L12, cons=3_0 -> L12 -> L12, tr=L11, []b=L12}
180224 contexts
Passed tests: 1
{0=L11, Li=L11, LLi=L11, cons=L11 -> 3_0 -> 3_0, tr=L11, []b=L12}
2106 contexts
Passed tests: 1


ACCIDENTALLY OVERWROTE CONTAINSONLY. NOW CORRECT:
{0=L2, Li=L2, LLi=L2, cons=3_0 -> 3_0 -> 3_0, tr=L12, []b=L12}
1 contexts
Passed tests: 0
{0=L2, Li=L2, LLi=L2, cons=3_0 -> 3_0 -> L2, tr=L2, []b=L2}
0 contexts
Passed tests: 0
{0=L11, Li=L11, LLi=L11, cons=L11 -> 3_0 -> L11, tr=L11, []b=L12}
5184 contexts
Passed tests: 0
{0=L12, Li=L12, LLi=L12, cons=L12 -> L12 -> 3_0, tr=L12, []b=L12}
0 contexts
Passed tests: 0
{0=L12, Li=L12, LLi=L12, cons=L12 -> L12 -> L12, tr=L12, []b=L12}
0 contexts
Passed tests: 0
{0=L11, Li=L11, LLi=L11, cons=3_0 -> L11 -> 3_0, tr=L11, []b=L11}
0 contexts
Passed tests: 0
{0=L0, Li=L12, LLi=L12, cons=3_0 -> L12 -> L12, tr=L11, []b=L12}
115200 contexts
Passed tests: 1
{0=L11, Li=L11, LLi=L11, cons=L11 -> 3_0 -> 3_0, tr=L11, []b=L12}
648 contexts
Passed tests: 1
